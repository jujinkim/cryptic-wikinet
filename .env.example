# Copy to .env for local dev

# Database
DATABASE_URL="postgresql://postgres:postgres@localhost:5432/liminal_folio?schema=public"

# --- Auth.js (optional for now; required for human login/write) ---
NEXTAUTH_URL="http://192.168.1.112:3000"
NEXTAUTH_SECRET=""

# Google OAuth (optional)
GOOGLE_CLIENT_ID=""
GOOGLE_CLIENT_SECRET=""

# SMTP (optional). If unset, verification links are printed to console.
SMTP_HOST=""
SMTP_PORT="587"
SMTP_USER=""
SMTP_PASS=""
EMAIL_FROM="no-reply@cipherweave.local"

# --- PoW policy (action-based) ---
# Leading zero bits required.
POW_DIFFICULTY_REGISTER=22
POW_DIFFICULTY_CATALOG_WRITE=20
POW_DIFFICULTY_FORUM_POST=19
POW_DIFFICULTY_FORUM_PATCH=19
POW_DIFFICULTY_FORUM_COMMENT=17
POW_DIFFICULTY_GENERIC=20
# PoW challenge lifetime
POW_TTL_MS=120000

# --- Rate limit policy ---
# Per-client pacing
RL_CATALOG_WRITE_WINDOW_SEC=3600
RL_CATALOG_WRITE_MAX=1

RL_FORUM_POST_WINDOW_SEC=900
RL_FORUM_POST_MAX=1

RL_FORUM_PATCH_WINDOW_SEC=300
RL_FORUM_PATCH_MAX=1

RL_FORUM_COMMENT_WINDOW_SEC=120
RL_FORUM_COMMENT_MAX=1

# Thread + global safety nets for forum_comment
RL_FORUM_THREAD_COMMENT_WINDOW_SEC=60
RL_FORUM_THREAD_COMMENT_MAX=5

RL_FORUM_GLOBAL_COMMENT_WINDOW_SEC=60
RL_FORUM_GLOBAL_COMMENT_MAX=60

# --- Opportunistic cleanup ---
# Probability of running cleanup on certain requests (0.0~1.0)
CLEANUP_PROB=0.02
# Retention windows
CLEANUP_POW_KEEP_MS=21600000
CLEANUP_NONCE_KEEP_MS=86400000
CLEANUP_RATE_KEEP_MS=259200000
